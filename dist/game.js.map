{"version":3,"sources":["../src/game.js"],"names":["cleanRomName","name","replace","indexOf","shouldGameBeIgnored","match","Game","console","filePath","gameConfig","ext","extname","fileName","basename","cleanName","exportToSteam","grid","enabled","undefined","ignore"],"mappings":";;;;;;AAAA;;;;;;;;AAEA,IAAIA,eAAe,SAAfA,YAAe,CAACC,IAAD,EACnB;AACIA,WAAOA,KAAKC,OAAL,CAAa,aAAb,EAA4B,EAA5B,CAAP;AACAD,WAAOA,KAAKC,OAAL,CAAa,aAAb,EAA4B,EAA5B,CAAP;AACAD,WAAOA,KAAKC,OAAL,CAAa,IAAb,EAAmB,GAAnB,CAAP;AACAD,WAAOA,KAAKC,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAP;;AAEA,QAAID,KAAKE,OAAL,CAAa,OAAb,KAAyB,CAAC,CAA9B,EACIF,OAAO,SAASA,KAAKC,OAAL,CAAa,OAAb,EAAsB,EAAtB,CAAhB;;AAEJ,WAAOD,IAAP;AACH,CAXD;;AAaA,IAAIG,sBAAsB,SAAtBA,mBAAsB,CAACH,IAAD,EAC1B;AACI,QAAIA,KAAKI,KAAL,CAAW,eAAX,CAAJ,EACI,OAAO,IAAP;;AAEJ,WAAO,KAAP;AACH,CAND;;IAQqBC,I,GACjB,cAAYC,OAAZ,EAAqBC,QAArB,EACA;AAAA,QAD+BC,UAC/B,uEAD4C,EAC5C;;AAAA;;AACI,SAAKF,OAAL,GAAeA,OAAf;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKE,GAAL,GAAW,eAAKC,OAAL,CAAaH,QAAb,CAAX;AACA,SAAKI,QAAL,GAAgB,eAAKC,QAAL,CAAcL,QAAd,CAAhB;AACA,SAAKP,IAAL,GAAY,eAAKY,QAAL,CAAcL,QAAd,EAAwB,KAAKE,GAA7B,CAAZ;AACA,SAAKI,SAAL,GAAiBd,aAAa,KAAKC,IAAlB,CAAjB;AACA,SAAKc,aAAL,GAAqB,KAArB;AACA,SAAKC,IAAL,GAAYP,WAAWO,IAAX,IAAmB,EAA/B;AACA,SAAKC,OAAL,GAAe,IAAf;;AAEA,QAAIR,WAAWQ,OAAX,KAAuBC,SAAvB,IAAoCT,WAAWQ,OAAX,KAAuB,KAA/D,EACI,KAAKA,OAAL,GAAe,KAAf;;AAEJ,SAAKE,MAAL,GAAc,CAAC,KAAKF,OAAN,IAAiBb,oBAAoB,KAAKU,SAAzB,CAA/B;AACH,C;;kBAjBgBR,I","file":"game.js","sourcesContent":["import path from 'path'\r\n\r\nlet cleanRomName = (name) =>\r\n{\r\n    name = name.replace(/\\([^\\)]\\)/gi, '');\r\n    name = name.replace(/\\[[^\\]]\\]/gi, '');\r\n    name = name.replace(/ +/, ' ');\r\n    name = name.replace(/ $/, '');\r\n\r\n    if (name.indexOf(', The') != -1)\r\n        name = 'The ' + name.replace(', The', '');\r\n\r\n    return name;\r\n}\r\n\r\nlet shouldGameBeIgnored = (name) =>\r\n{\r\n    if (name.match(/CD {0,1}[2-9]/))\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport default class Game {\r\n    constructor(console, filePath, gameConfig = {})\r\n    {\r\n        this.console = console;\r\n        this.filePath = filePath;\r\n        this.ext = path.extname(filePath);\r\n        this.fileName = path.basename(filePath);\r\n        this.name = path.basename(filePath, this.ext);\r\n        this.cleanName = cleanRomName(this.name);\r\n        this.exportToSteam = false;\r\n        this.grid = gameConfig.grid || \"\";\r\n        this.enabled = true;\r\n\r\n        if (gameConfig.enabled !== undefined && gameConfig.enabled === false)\r\n            this.enabled = false;\r\n\r\n        this.ignore = !this.enabled || shouldGameBeIgnored(this.cleanName);\r\n    }\r\n}"]}