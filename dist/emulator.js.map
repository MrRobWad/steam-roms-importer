{"version":3,"sources":["../src/emulator.js"],"names":["Emulator","jsonFilePath","jsonData","JSON","parse","readFileSync","consoles","exe","normalize","command","game","replace","filePath"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;IAEqBA,Q;AACjB,sBAAYC,YAAZ,EACA;AAAA;;AACI,YAAIC,WAAWC,KAAKC,KAAL,CAAW,aAAGC,YAAH,CAAgBJ,YAAhB,CAAX,CAAf;;AAEA,aAAKK,QAAL,GAAgBJ,SAASI,QAAT,IAAqB,EAArC;;AAEA,aAAKC,GAAL,GAAW,eAAKC,SAAL,CAAeN,SAASK,GAAT,IAAgB,EAA/B,CAAX;AACA,aAAKE,OAAL,GAAeP,SAASO,OAAT,IAAoB,cAAnC;AACH;;;;+CAEsBR,Y,EACvB;AACI,gBAAIC,WAAWC,KAAKC,KAAL,CAAW,aAAGC,YAAH,CAAgBJ,YAAhB,CAAX,CAAf;;AAEA,iBAAKK,QAAL,GAAgBJ,SAASI,QAAT,IAAqB,KAAKA,QAA1C;;AAEA,iBAAKC,GAAL,GAAW,eAAKC,SAAL,CAAeN,SAASK,GAAT,IAAgB,KAAKA,GAApC,CAAX;AACA,iBAAKE,OAAL,GAAeP,SAASO,OAAT,IAAoB,KAAKA,OAAxC;AACH;;;0CAEiBC,I,EAClB;AACI,mBAAO,KAAKD,OAAL,CACFE,OADE,CACM,OADN,EACe,MAAM,KAAKJ,GAAX,GAAiB,GADhC,EAEFI,OAFE,CAEM,QAFN,EAEgB,MAAMD,KAAKE,QAAX,GAAsB,GAFtC,CAAP;AAGH;;;;;;kBA1BgBZ,Q","file":"emulator.js","sourcesContent":["import fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport default class Emulator {\r\n    constructor(jsonFilePath)\r\n    {\r\n        let jsonData = JSON.parse(fs.readFileSync(jsonFilePath));\r\n\r\n        this.consoles = jsonData.consoles || [];\r\n        \r\n        this.exe = path.normalize(jsonData.exe || '');\r\n        this.command = jsonData.command || '{exe} {game}';\r\n    }\r\n\r\n    updateFromUserJsonFile(jsonFilePath)\r\n    {\r\n        let jsonData = JSON.parse(fs.readFileSync(jsonFilePath));\r\n\r\n        this.consoles = jsonData.consoles || this.consoles;\r\n        \r\n        this.exe = path.normalize(jsonData.exe || this.exe);\r\n        this.command = jsonData.command || this.command;\r\n    }\r\n\r\n    getCommandForGame(game)\r\n    {\r\n        return this.command\r\n            .replace('{exe}', '\"' + this.exe + '\"')\r\n            .replace('{game}', '\"' + game.filePath + '\"');\r\n    }\r\n}"]}